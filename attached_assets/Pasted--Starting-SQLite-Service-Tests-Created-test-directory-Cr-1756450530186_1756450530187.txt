 Starting SQLite Service Tests
================================
ğŸ“ Created test directory

ğŸ“Š Creating sample Excel file...
âœ… Sample Excel file created

ğŸ” Testing Excel validation...
âœ… Excel validation passed
ğŸ“‹ Found 2 sheets:
  - Employees: 5 rows, 4 columns
    Headers: Yes
    Columns: Name, Age, Department, Salary
  - Projects: 4 rows, 3 columns
    Headers: Yes
    Columns: Project, Status, Budget

ğŸ—„ï¸ Testing SQLite database creation...
âœ… SQLite database created successfully
ğŸ“ File path: /home/runner/workspace/uploads/Test_Database_1756450514313.db
ğŸ”¢ Connection ID: 18
âœ… Database file exists
Oracle DB driver not available

ğŸ”Œ Testing database connection...
Test connection object: {
  "id": 999,
  "userId": "test-user-123",
  "name": "Test Database",
  "type": "database",
  "dbType": "sqlite",
  "filePath": "/home/runner/workspace/uploads/Test_Database_1756450514313.db",
  "isActive": true,
  "createdAt": "2025-08-29T06:55:16.193Z",
  "updatedAt": "2025-08-29T06:55:16.193Z"
}
SQLite connection test error: ReferenceError: require is not defined
    at DatabaseConnector.testSQLiteConnection (/home/runner/workspace/server/services/databaseConnector.ts:168:18)
    at DatabaseConnector.testDatabaseConnection (/home/runner/workspace/server/services/databaseConnector.ts:96:29)
    at DatabaseConnector.testConnection (/home/runner/workspace/server/services/databaseConnector.ts:49:31)
    at testSQLiteCreation (/home/runner/workspace/server/test-sqlite-service.ts:153:52)
    at async runAllTests (/home/runner/workspace/server/test-sqlite-service.ts:25:5)
Connection test result: {
  "success": false,
  "message": "SQLite connection failed: require is not defined"
}
âŒ Test suite failed: Error: Database connection test failed: SQLite connection failed: require is not defined
    at testSQLiteCreation (/home/runner/workspace/server/test-sqlite-service.ts:161:13)
    at async runAllTests (/home/runner/workspace/server/test-sqlite-service.ts:25:5)

ğŸ§¹ Cleaning up test files...
ğŸ—‘ï¸ Removed Test_Database_1756450514313.db
âœ… Cleanup completed
Error: Database connection test failed: SQLite connection failed: require is not defined
    at testSQLiteCreation (/home/runner/workspace/server/test-sqlite-service.ts:161:13)
    at async runAllTests (/home/runner/workspace/server/test-sqlite-service.ts:25:5)