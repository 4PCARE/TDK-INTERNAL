You’re seeing this error because the WebSocket URL is malformed:

```js
wss://localhost:undefined/?token=kRXut093Utng
```

The problem lies in `undefined` — the **port** is not being set properly. So `localhost:undefined` is invalid.

### 🔧 Quick Fix Suggestions:

1. **Check where the WebSocket URL is created**
   Look for something like:

   ```js
   const port = process.env.PORT || someVariable;
   const ws = new WebSocket(`wss://localhost:${port}/?token=${token}`);
   ```

   Make sure `port` has a valid number and isn't `undefined`.

2. **If you're using Vite (which your stack trace suggests)**:
   In Vite's client (`@vite/client`), the WebSocket URL is usually auto-generated. You may be running Vite in a non-standard environment like **Replit**, and it can't resolve the port properly.

   Fix options:

   * 🧪 Try setting the Vite HMR host and port explicitly in your `vite.config.js`:

     ```js
     server: {
       hmr: {
         protocol: 'wss',
         host: 'localhost',
         port: 443, // or 3000 or whatever your dev port is
       },
     },
     ```
   * 🚫 Or disable HMR on Replit if you don’t need it (it’s what's trying to create the WebSocket).

3. **Check the token too**
   The `token=kRXut093Utng` part is fine syntactically, but make sure you're not trying to initiate the connection before the token or port is defined.

4. **Avoid `wss://localhost` in dev**
   Browsers reject `wss://localhost` unless you're serving with HTTPS and using a valid cert (which is rare in local dev).
   So instead, use:

   ```js
   const ws = new WebSocket(`ws://localhost:3000`);
   ```

---

### TL;DR Fix Path:

If you control the code:

```js
const port = 3000; // or pull from env/config properly
const ws = new WebSocket(`ws://localhost:${port}/?token=${token}`);
```

If it’s Vite:
In `vite.config.js`:

```js
server: {
  hmr: {
    protocol: 'ws', // or 'wss' with valid cert
    host: 'localhost',
    port: 3000
  }
}
```

---

If you're still stuck, show me where the WebSocket is created or your `vite.config.js` — I’ll help patch it up like your nerdy mechanic bro 🛠️💻
